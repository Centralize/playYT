{% extends "base.html" %}
{% block content %}
  <div class="content">
    <h1 class="title">Search</h1>
  </div>
  <form method="get" action="/search" class="field has-addons">
    <div class="control is-expanded">
      <input class="input" type="text" name="q" value="{{ query or '' }}" placeholder="Search videos..." />
    </div>
    <div class="control">
      <button class="button is-primary" type="submit">Search</button>
    </div>
  </form>

  {% if results is not none %}
    <div class="content">
      <h2 class="subtitle">Results</h2>
    </div>
    {% if results %}
      <div class="columns is-multiline">
        {% for v in results %}
          <div class="column is-one-third">
            <div class="card">
              <div class="card-content">
                <p class="title is-6"><a href="/video/{{ v.id }}">{{ v.title }}</a></p>
                <p class="subtitle is-7">{{ v.channel }}</p>
                <span class="tag is-info is-light">{{ v.duration }}</span>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="notification is-warning is-light">No results found.</div>
    {% endif %}
  {% endif %}
{% endblock %}

